{"ast":null,"code":"export default {\n  data() {\n    return {\n      activeName: 'password',\n      resetPass: 'reset',\n      loginForm: {\n        mobile: '',\n        password: '',\n        // 验证码\n        vercode: ''\n      },\n      resetPassword: {\n        mobile: '',\n        code: '',\n        respassword: ''\n      },\n      loginShow: true,\n      loginRules: {\n        mobile: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          min: 11,\n          max: 11,\n          message: '请输入11位手机号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 12,\n          message: '请输入6 - 12位密码',\n          trigger: 'blur'\n        }],\n        vercode: [{\n          required: true,\n          message: '请输入验证码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 6,\n          message: '请输入6位数字验证码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  created() {},\n\n  methods: {\n    showReset() {\n      this.loginShow = false;\n    },\n\n    showLogin() {\n      this.loginShow = true;\n    },\n\n    passAndver(tabs) {// if(tabs.name === 'password') {\n      //     this.loginRules.vercode = []\n      // }\n    },\n\n    // 确认按钮-密码登录验证\n    loginPassword() {\n      this.$refs.loginRuleForm.validate(async valid => {\n        if (!valid) return this.$message.error('请填写完整内容');\n        const {\n          data: res\n        } = await this.$axios.post('login');\n        if (res.meta.status !== 200) return this.$message.error('登录失败,请输入正确的手机号或密码');\n        this.$message.success('登录成功');\n        this.$router.push('home');\n        console.log(res);\n      });\n    },\n\n    // 验证码登录\n    loginVerify() {\n      this.$refs.loginRuleForm.validate(async valid => {\n        if (!valid) return this.$message.error('请填写完整内容');\n        const {\n          data: res\n        } = await this.$axios.post('login-ver');\n        if (res.meta.status !== 200) return this.$message.error('登录失败,请输入正确的手机号或密码');\n        this.$message.success('登录成功'); // this.$router.push('home')\n\n        console.log(res);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAwEA;EACAA;IACA;MACAC,sBADA;MAEAC,kBAFA;MAGAC;QACAC,UADA;QAEAC,YAFA;QAGA;QACAC;MAJA,CAHA;MASAC;QACAH,UADA;QAEAI,QAFA;QAGAC;MAHA,CATA;MAcAC,eAdA;MAeAC;QACAP,SACA;UAAAQ;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,CAFA,CADA;QAKAT,WACA;UAAAO;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,CAFA,CALA;QASAR,UACA;UAAAM;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA,CAFA;MATA;IAfA;EA8BA,CAhCA;;EAiCAG,YAjCA;;EAkCAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC,kBACA;MACA;MACA;IACA,CAXA;;IAYA;IACAC;MACA;QACA;QACA;UAAAtB;QAAA;QACA,6BACA;QACA;QACA;QACAuB;MACA,CARA;IASA,CAvBA;;IAwBA;IACAC;MACA;QACA;QACA;UAAAxB;QAAA;QACA,6BACA;QACA,8BALA,CAMA;;QACAuB;MACA,CARA;IASA;;EAnCA;AAlCA","names":["data","activeName","resetPass","loginForm","mobile","password","vercode","resetPassword","code","respassword","loginShow","loginRules","required","message","trigger","min","max","created","methods","showReset","showLogin","passAndver","loginPassword","console","loginVerify"],"sourceRoot":"src/views/login","sources":["Login.vue"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <img src=\"@/assets/JBLOGO.png\" alt=\"\">\n    <el-form :model=\"loginForm\" v-if=\"loginShow\" :rules=\"loginRules\" ref=\"loginRuleForm\">\n      <el-tabs v-model=\"activeName\" @tab-click=\"passAndver\">\n        <!-- 密码登录区域 -->\n        <el-tab-pane label=\"密码登录\" name=\"password\">\n          <el-form-item label=\"手机号码\" prop=\"mobile\">\n            <el-input v-model=\"loginForm.mobile\" placeholder=\"注册时填写的手机号\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"登录密码\" prop=\"password\">\n            <el-input v-model=\"loginForm.password\" placeholder=\"请输入密码\"></el-input>\n          </el-form-item>\n          <el-row class=\"remember_forget\">\n            <el-col :span=\"12\" class=\"left\">\n              <el-checkbox label=\"记住我\"></el-checkbox>\n            </el-col>\n            <el-col :span=\"12\" class=\"right\">\n              <el-link :underline=\"false\" target=\"_blank\" @click=\"showReset\">忘记密码？</el-link>\n            </el-col>\n          </el-row>\n          <el-button type=\"primary\" @click=\"loginPassword\">登录</el-button>\n        </el-tab-pane>\n        <!-- 分割线 -->\n        <el-tab-pane label=\"|\" name=\"separator\"></el-tab-pane>\n        <!-- 验证码登录区域 -->\n        <el-tab-pane label=\"验证码登录\" name=\"code\">\n          <el-form-item label=\"手机号码\">\n            <el-input v-model=\"loginForm.mobile\" placeholder=\"注册时填写的手机号\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"验证码\">\n            <el-input v-model=\"loginForm.vercode\" placeholder=\"请填写验证码\"></el-input>\n            <a href=\"\" class=\"getcode\">获取验证码</a>\n          </el-form-item>\n          <el-row class=\"remember_forget\">\n            <el-col :span=\"12\" class=\"left\">\n              <el-checkbox label=\"记住我\"></el-checkbox>\n            </el-col>\n          </el-row>\n          <el-button type=\"primary\" @click=\"loginVerify\">登录</el-button>\n        </el-tab-pane>\n      </el-tabs>\n    </el-form>\n    <!-- 密码重置区 -->\n    <el-form :model=\"resetPassword\" v-else :rules=\"loginRules\">\n      <el-tabs v-model=\"resetPass\">\n        <!-- 密码登录区域 -->\n        <el-tab-pane label=\"密码重置\" name=\"reset\">\n          <el-form-item label=\"手机号码\">\n            <el-input v-model=\"loginForm.mobile\" placeholder=\"注册时填写的手机号\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"验证码\">\n            <el-input v-model=\"loginForm.respassword\" placeholder=\"请填写短信验证码\"></el-input>\n            <a href=\"\" class=\"getcode\">获取验证码</a>\n          </el-form-item>\n          <el-form-item label=\"设置密码\">\n            <el-input v-model=\"loginForm.password\" placeholder=\"8-16位必须包含数字和字母\"></el-input>\n          </el-form-item>\n          <el-row>\n            <el-col :span=\"24\" class=\"left\">\n              <span>已有账号</span>\n              <el-link :underline=\"false\" type=\"primary\" target=\"_blank\" @click=\"showLogin\">登录</el-link>\n            </el-col>\n          </el-row>\n          <el-button type=\"primary\">确认修改</el-button>\n        </el-tab-pane>\n      </el-tabs>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      activeName: 'password',\n      resetPass: 'reset',\n      loginForm: {\n        mobile: '',\n        password: '',\n        // 验证码\n        vercode: '',\n      },\n      resetPassword: {\n        mobile: '',\n        code: '',\n        respassword: '',\n      },\n      loginShow: true,\n      loginRules: {\n        mobile: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { min: 11, max: 11, message: '请输入11位手机号', trigger: 'blur' },\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, max: 12, message: '请输入6 - 12位密码', trigger: 'blur' },\n        ],\n        vercode: [\n          { required: true, message: '请输入验证码', trigger: 'blur' },\n          { min: 6, max: 6, message: '请输入6位数字验证码', trigger: 'blur' },\n        ],\n      },\n    }\n  },\n  created() {},\n  methods: {\n    showReset() {\n      this.loginShow = false\n    },\n    showLogin() {\n      this.loginShow = true\n    },\n    passAndver(tabs) {\n        // if(tabs.name === 'password') {\n        //     this.loginRules.vercode = []\n        // }\n    },\n    // 确认按钮-密码登录验证\n    loginPassword() {\n      this.$refs.loginRuleForm.validate(async (valid) => {\n        if (!valid) return this.$message.error('请填写完整内容')\n        const { data: res } = await this.$axios.post('login')\n        if (res.meta.status !== 200)\n          return this.$message.error('登录失败,请输入正确的手机号或密码')\n        this.$message.success('登录成功')\n        this.$router.push('home')\n        console.log(res)\n      })\n    },\n    // 验证码登录\n    loginVerify() {\n      this.$refs.loginRuleForm.validate(async (valid) => {\n        if (!valid) return this.$message.error('请填写完整内容')\n        const { data: res } = await this.$axios.post('login-ver')\n        if (res.meta.status !== 200)\n          return this.$message.error('登录失败,请输入正确的手机号或密码')\n        this.$message.success('登录成功')\n        // this.$router.push('home')\n        console.log(res)\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login {\n  width: 100%;\n  height: 100%;\n  background-color: #f1f0f4;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nimg {\n  position: absolute;\n  // 按X轴移动118px,Y轴284px\n  transform: translate(-118px, -284px);\n}\n.el-form {\n  width: 400px;\n  height: 520px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 5px 10px 15px #e3e2e6;\n  box-sizing: border-box;\n  padding: 40px;\n}\n.el-form-item {\n  margin-bottom: 10px;\n}\n.remember_forget {\n  margin-top: 16px;\n  margin-bottom: 45px;\n}\n::v-deep .el-tabs__nav-wrap::after {\n  width: 0;\n  height: 0;\n}\n::v-deep .el-tabs__item {\n  padding: 0 5px;\n  font-size: 20px;\n}\n::v-deep .el-tabs__item:hover {\n  color: #303133;\n}\n::v-deep #tab-code {\n  opacity: 0.4;\n}\n::v-deep #tab-separator {\n  opacity: 0.2;\n}\n::v-deep .is-active {\n  color: #303133;\n}\n::v-deep .el-input__inner {\n  // border: 1px dotted solid double dashed #DCDFE6;\n  border-top-width: 0px;\n  border-left-width: 0px;\n  border-right-width: 0px;\n  border-bottom: 1px solid #dcdfe6;\n  border-radius: 0px;\n  padding: 0;\n}\n::v-deep .el-form-item__label {\n  font-weight: bold;\n  color: #000;\n}\n::v-deep .el-tabs__header {\n  margin: 0 0 25px;\n}\n// 登录按钮\n.el-button {\n  width: 100%;\n  margin-top: 50px;\n  font-size: 16px;\n}\n.left {\n  text-align: left;\n  font-size: 14px;\n  display: flex;\n  line-height: 20px;\n}\n.right {\n  text-align: right;\n  font-size: 14px;\n  line-height: 20px;\n}\n// 获取验证码\n.getcode {\n  color: #2589ff;\n  position: absolute;\n  right: 0px;\n  text-decoration: none;\n}\n</style>"]},"metadata":{},"sourceType":"module"}