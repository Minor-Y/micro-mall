{"ast":null,"code":"import _Message2 from \"element-ui/lib/theme-chalk/message.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Message from \"element-ui/lib/message\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '../store/index';\nimport _ from 'lodash';\nVue.use(VueRouter); // 解决ElementUI导航栏中的vue-router在3.0版本以上重复点菜单报错问题\n\nconst originalPush = VueRouter.prototype.push;\n\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(err => err);\n};\n\nconst constantRouterMap = [{\n  path: '/',\n  redirect: '/login'\n}, {\n  path: '/login',\n  name: 'login',\n  meta: {\n    index: 0\n  },\n  component: () => import(\n  /* webpackChunkName: \"login\" */\n  '../views/login/Login')\n}, {\n  path: '/home',\n  name: 'home',\n  meta: {\n    index: 0\n  },\n  component: () => import(\n  /* webpackChunkName: \"login\" */\n  '../views/home/Home')\n} // {\n//   path: '/home',\n//   name: 'home',\n//   meta: {index: 1},\n//   redirect: '/dashboardover',\n//   component: () => import(/* webpackChunkName: \"home\" */ '../views/home/Home.vue'),\n//   children: [\n//     {\n//       path: '/dashboardover',\n//       name: 'dashboardover',\n//       meta: {index: 2},\n//       component: () => import(/* webpackChunkName: \"dashboardover\" */ '../views/dashboardover/Dashboardover.vue'),\n//     },\n//     {\n//       path: '/goodslist',\n//       name: 'goodslist',\n//       meta: {index: 3},\n//       component: () => import(/* webpackChunkName: \"goods\" */ '../views/goods/GoodsList.vue'),\n//     },\n//     {\n//       path: '/orderlist',\n//       name: 'orderlist',\n//       meta: {index: 4},\n//       component: () => import(/* webpackChunkName: \"order\" */ '../views/order/OrderList.vue'),\n//     },\n//     {\n//       path: '/customerlist',\n//       name: 'customerlist',\n//       meta: {index: 5},\n//       component: () => import(/* webpackChunkName: \"customer\" */ '../views/customer/CustomerList.vue'),\n//     },\n//     {\n//       path: '/permissions',\n//       name: 'permissions',\n//       meta: {index: 6},\n//       component: () => import(/* webpackChunkName: \"set\" */ '../views/set/Permissions.vue'),\n//     },\n//   ]\n// }\n]; // 注册路由\n\nconst router = new VueRouter({\n  routes: constantRouterMap\n}); // 异步路由\n\nexport const asyncRouter = [{\n  path: '/home',\n  name: 'home',\n  meta: {\n    index: 1\n  },\n  redirect: '/dashboardover',\n  component: () => import(\n  /* webpackChunkName: \"home\" */\n  '../views/home/Home.vue'),\n  children: [{\n    path: '/dashboardover',\n    name: 'dashboardover',\n    meta: {\n      index: 2\n    },\n    component: () => import(\n    /* webpackChunkName: \"dashboardover\" */\n    '../views/dashboardover/Dashboardover.vue')\n  }, {\n    path: '/goodslist',\n    name: 'goodslist',\n    meta: {\n      index: 3\n    },\n    component: () => import(\n    /* webpackChunkName: \"goods\" */\n    '../views/goods/GoodsList.vue')\n  }, {\n    path: '/orderlist',\n    name: 'orderlist',\n    meta: {\n      index: 4\n    },\n    component: () => import(\n    /* webpackChunkName: \"order\" */\n    '../views/order/OrderList.vue')\n  }, {\n    path: '/customerlist',\n    name: 'customerlist',\n    meta: {\n      index: 5\n    },\n    component: () => import(\n    /* webpackChunkName: \"customer\" */\n    '../views/customer/CustomerList.vue')\n  }, {\n    path: '/permissions',\n    name: 'permissions',\n    meta: {\n      index: 6\n    },\n    component: () => import(\n    /* webpackChunkName: \"set\" */\n    '../views/set/Permissions.vue')\n  }]\n}]; // 处理component\n// function loadView(component) {\n//   return () => import(/* webpackChunkName: \"home\" */ `../views/${component}`)\n//   // return (resolve) => require([`@/views/${component}`], resolve)\n// }\n// function formatRouter(routes, Layout) {\n//   const formatRouterArr = []\n//   routes.forEach(route => {\n//   })\n// }\n// 根据后端返回权限匹配对应路由\n\nfunction routerMatch(permission, asyncRoute) {\n  return new Promise((resolve, reject) => {\n    const routers = [{\n      path: '/home',\n      name: 'home',\n      meta: {\n        index: 1\n      },\n      // redirect: '/dashboardover',\n      component: () => import(\n      /* webpackChunkName: \"home\" */\n      '../views/home/Home.vue'),\n      children: []\n    }];\n\n    function createRouter(permission) {\n      permission.forEach(item => {\n        console.log('后台返回', item);\n\n        if (item.childs && item.childs.length > 0) {\n          createRouter(item.childs);\n        }\n\n        let path = item.path;\n        asyncRoute.find(s => {\n          if (s.children) {\n            s.children.find(y => {\n              console.log('前端保存', y);\n              console.log(path);\n\n              if (y.name === path) {\n                if (item.component === 'Layout') {\n                  y.component = loadView();\n                } else {\n                  y.component = loadView(item.component);\n                  routers[0].children.push(y);\n                }\n              }\n            });\n          } else {\n            if (s.name === path) {\n              s.component = loadView(item.component);\n              routers[0].children.push(s);\n            }\n          }\n        });\n      });\n    }\n\n    createRouter(permission);\n    console.log('最终的路由数组', routers);\n    resolve(routers);\n  });\n}\n\nconst disposeRouter = perss => {\n  const routerList = [];\n\n  const loadView = view => {\n    return () => Promise.resolve(require(`@/views/${view}`).default);\n  };\n\n  perss.forEach(menu => {\n    if (menu.childs) {\n      menu.childs.forEach(item => {\n        let rList = {\n          path: item.path,\n          name: item.path.split('/')[1],\n          meta: {\n            id: item.id\n          },\n          component: loadView(item.component)\n        };\n        routerList.push(rList);\n      });\n    }\n  });\n  console.log('打印下处理好的路由数组', routerList);\n  return routerList;\n}; // 挂载路由守卫\n\n\nrouter.beforeEach((to, from, next) => {\n  // if (to.path === '/login') return next()\n  // 获取token\n  let token = window.sessionStorage.getItem('token');\n  const tokenStart = window.sessionStorage.getItem('tokenStart');\n  const nowDate = new Date().getTime();\n  const timeOver = 3600 * 24 * 1000;\n\n  if (nowDate - tokenStart > timeOver) {\n    token = null;\n  }\n\n  if (token) {\n    if (to.path === '/login') {\n      return next('/dashboardover');\n    } else {\n      // const permiss = JSON.parse(JSON.stringify(store.state.menuRouterList))\n      const permiss = _.cloneDeep(store.state.menuRouterList);\n\n      console.log('permiss', permiss);\n      const routerLists = disposeRouter(permiss);\n      console.log('处理函数返回的路由数组', routerLists);\n      routerLists.forEach(item => {\n        router.addRoute('home', item);\n      });\n      console.log(\"路由添加后\", router.getRoutes()); // next({ ...to, replace: true })\n\n      next(); // routerMatch(permiss, asyncRouter).then(res => {\n      //   res[0].children.forEach(item => {\n      //     router.addRoute('home', item)\n      //   })\n      //   next({ ...to, replace: true })\n      // }).catch((err) => {\n      //   console.log(err)\n      //   router.replace('/kk')\n      // })\n      // routerMatch(permiss, asyncRouter).then(res => {\n      //   console.log('合并后的路由列表', res)\n      //   // let mergeRouter = res[0]\n      //   console.log('合并后的路由列表2', res[0].component)\n      //   const home = 'home/Home'\n      //   res[0].component = loadView(home)\n      //   console.log('合并后的路由列表2', res)\n      //   res.forEach(item => {\n      //     router.addRoute(item)\n      //   })\n      //   next(to.path)\n      // }).catch((err) => {\n      //   console.log(err)\n      //   router.replace('/kk')\n      // })\n    }\n  } else {\n    _Message.error('登录状态过期，请重新登录');\n\n    window.sessionStorage.clear();\n    next('/login');\n  }\n\n  next();\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","store","_","use","originalPush","prototype","push","location","call","catch","err","constantRouterMap","path","redirect","name","meta","index","component","router","routes","asyncRouter","children","routerMatch","permission","asyncRoute","Promise","resolve","reject","routers","createRouter","forEach","item","console","log","childs","length","find","s","y","loadView","disposeRouter","perss","routerList","view","require","default","menu","rList","split","id","beforeEach","to","from","next","token","window","sessionStorage","getItem","tokenStart","nowDate","Date","getTime","timeOver","permiss","cloneDeep","state","menuRouterList","routerLists","addRoute","getRoutes","error","clear"],"sources":["/Users/minor/Documents/micro_mall/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport { Message } from 'element-ui'\nimport store from '../store/index'\nimport _ from 'lodash'\n\nVue.use(VueRouter)\n\n// 解决ElementUI导航栏中的vue-router在3.0版本以上重复点菜单报错问题\nconst originalPush = VueRouter.prototype.push\nVueRouter.prototype.push = function push(location) {\n  return originalPush.call(this, location).catch(err => err)\n}\n\nconst constantRouterMap = [\n  {\n    path: '/',\n    redirect: '/login'\n  },\n  {\n    path: '/login',\n    name: 'login',\n    meta: { index: 0 },\n    component: () => import(/* webpackChunkName: \"login\" */ '../views/login/Login')\n  },\n  {\n    path: '/home',\n    name: 'home',\n    meta: { index: 0 },\n    component: () => import(/* webpackChunkName: \"login\" */ '../views/home/Home')\n  },\n  // {\n  //   path: '/home',\n  //   name: 'home',\n  //   meta: {index: 1},\n  //   redirect: '/dashboardover',\n  //   component: () => import(/* webpackChunkName: \"home\" */ '../views/home/Home.vue'),\n  //   children: [\n  //     {\n  //       path: '/dashboardover',\n  //       name: 'dashboardover',\n  //       meta: {index: 2},\n  //       component: () => import(/* webpackChunkName: \"dashboardover\" */ '../views/dashboardover/Dashboardover.vue'),\n  //     },\n  //     {\n  //       path: '/goodslist',\n  //       name: 'goodslist',\n  //       meta: {index: 3},\n  //       component: () => import(/* webpackChunkName: \"goods\" */ '../views/goods/GoodsList.vue'),\n  //     },\n  //     {\n  //       path: '/orderlist',\n  //       name: 'orderlist',\n  //       meta: {index: 4},\n  //       component: () => import(/* webpackChunkName: \"order\" */ '../views/order/OrderList.vue'),\n  //     },\n  //     {\n  //       path: '/customerlist',\n  //       name: 'customerlist',\n  //       meta: {index: 5},\n  //       component: () => import(/* webpackChunkName: \"customer\" */ '../views/customer/CustomerList.vue'),\n  //     },\n  //     {\n  //       path: '/permissions',\n  //       name: 'permissions',\n  //       meta: {index: 6},\n  //       component: () => import(/* webpackChunkName: \"set\" */ '../views/set/Permissions.vue'),\n  //     },\n  //   ]\n  // }\n]\n\n// 注册路由\nconst router = new VueRouter({\n  routes: constantRouterMap\n})\n\n// 异步路由\nexport const asyncRouter = [\n  {\n    path: '/home',\n    name: 'home',\n    meta: { index: 1 },\n    redirect: '/dashboardover',\n    component: () => import(/* webpackChunkName: \"home\" */ '../views/home/Home.vue'),\n    children: [\n      {\n        path: '/dashboardover',\n        name: 'dashboardover',\n        meta: { index: 2 },\n        component: () => import(/* webpackChunkName: \"dashboardover\" */ '../views/dashboardover/Dashboardover.vue'),\n      },\n      {\n        path: '/goodslist',\n        name: 'goodslist',\n        meta: { index: 3 },\n        component: () => import(/* webpackChunkName: \"goods\" */ '../views/goods/GoodsList.vue'),\n      },\n      {\n        path: '/orderlist',\n        name: 'orderlist',\n        meta: { index: 4 },\n        component: () => import(/* webpackChunkName: \"order\" */ '../views/order/OrderList.vue'),\n      },\n      {\n        path: '/customerlist',\n        name: 'customerlist',\n        meta: { index: 5 },\n        component: () => import(/* webpackChunkName: \"customer\" */ '../views/customer/CustomerList.vue'),\n      },\n      {\n        path: '/permissions',\n        name: 'permissions',\n        meta: { index: 6 },\n        component: () => import(/* webpackChunkName: \"set\" */ '../views/set/Permissions.vue'),\n      },\n    ]\n  }\n]\n\n// 处理component\n// function loadView(component) {\n//   return () => import(/* webpackChunkName: \"home\" */ `../views/${component}`)\n//   // return (resolve) => require([`@/views/${component}`], resolve)\n// }\n// function formatRouter(routes, Layout) {\n//   const formatRouterArr = []\n//   routes.forEach(route => {\n\n//   })\n// }\n\n// 根据后端返回权限匹配对应路由\nfunction routerMatch(permission, asyncRoute) {\n  return new Promise((resolve, reject) => {\n    const routers = [\n      {\n        path: '/home',\n        name: 'home',\n        meta: { index: 1 },\n        // redirect: '/dashboardover',\n        component: () => import(/* webpackChunkName: \"home\" */ '../views/home/Home.vue'),\n        children: []\n      }\n    ]\n    function createRouter(permission) {\n      permission.forEach(item => {\n        console.log('后台返回', item)\n        if (item.childs && item.childs.length > 0) {\n          createRouter(item.childs)\n        }\n        let path = item.path\n        asyncRoute.find(s => {\n          if (s.children) {\n            s.children.find(y => {\n              console.log('前端保存', y)\n              console.log(path)\n              if (y.name === path) {\n                if (item.component === 'Layout') {\n                  y.component = loadView()\n                } else {\n                  y.component = loadView(item.component)\n                  routers[0].children.push(y)\n                }\n              }\n            })\n          } else {\n            if (s.name === path) {\n              s.component = loadView(item.component)\n              routers[0].children.push(s)\n            }\n          }\n        })\n      })\n    }\n    createRouter(permission)\n    console.log('最终的路由数组', routers)\n\n    resolve(routers)\n  })\n}\n\nconst disposeRouter = (perss) => {\n  const routerList = []\n  const loadView = (view) => {\n    return () => Promise.resolve(require(`@/views/${view}`).default)\n  }\n  perss.forEach(menu => {\n    if(menu.childs) {\n      menu.childs.forEach(item => {\n        let rList = {\n          path: item.path,\n          name: item.path.split('/')[1],\n          meta: { id: item.id },\n          component: loadView(item.component)\n        }\n        routerList.push(rList)\n      })\n    }\n  })\n  console.log('打印下处理好的路由数组', routerList)\n  return routerList\n}\n\n// 挂载路由守卫\nrouter.beforeEach((to, from, next) => {\n  // if (to.path === '/login') return next()\n  // 获取token\n  let token = window.sessionStorage.getItem('token')\n  const tokenStart = window.sessionStorage.getItem('tokenStart')\n  const nowDate = new Date().getTime()\n  const timeOver = 3600 * 24 * 1000\n  if (nowDate - tokenStart > timeOver) {\n    token = null\n  }\n  if (token) {\n    if (to.path === '/login') {\n      return next('/dashboardover')\n    } else {\n      // const permiss = JSON.parse(JSON.stringify(store.state.menuRouterList))\n      const permiss = _.cloneDeep(store.state.menuRouterList)\n      console.log('permiss', permiss)\n      const routerLists = disposeRouter(permiss)\n      console.log('处理函数返回的路由数组', routerLists)\n      routerLists.forEach(item => {\n        router.addRoute('home', item)\n      })\n      console.log(\"路由添加后\", router.getRoutes())\n      // next({ ...to, replace: true })\n      next()\n      // routerMatch(permiss, asyncRouter).then(res => {\n      //   res[0].children.forEach(item => {\n      //     router.addRoute('home', item)\n      //   })\n      //   next({ ...to, replace: true })\n      // }).catch((err) => {\n      //   console.log(err)\n      //   router.replace('/kk')\n      // })\n      // routerMatch(permiss, asyncRouter).then(res => {\n      //   console.log('合并后的路由列表', res)\n      //   // let mergeRouter = res[0]\n        \n      //   console.log('合并后的路由列表2', res[0].component)\n      //   const home = 'home/Home'\n      //   res[0].component = loadView(home)\n      //   console.log('合并后的路由列表2', res)\n      //   res.forEach(item => {\n      //     router.addRoute(item)\n      //   })\n      //   next(to.path)\n      // }).catch((err) => {\n      //   console.log(err)\n      //   router.replace('/kk')\n      // })\n\n    }\n\n  } else {\n    Message.error('登录状态过期，请重新登录')\n    window.sessionStorage.clear()\n    next('/login')\n  }\n\n\n  next()\n})\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}