{"ast":null,"code":"import MinorDialog from '../../components/M-Dialog.vue';\nimport api from '../../../api/index';\nexport default {\n  components: {\n    MinorDialog: MinorDialog\n  },\n\n  data() {\n    return {\n      visibleFlag: false,\n      title: 'wenwen',\n      width: '70%',\n      cradWidthHeight: 'width: 100%;',\n      showCardOne: false,\n      options: [{\n        value: 'mobile',\n        label: '手机号'\n      }, {\n        value: 'customerName',\n        label: '客户名'\n      }],\n      customerQuery: {\n        query: '',\n        pagenum: 1,\n        pagesize: 10,\n        value: 'mobile'\n      },\n      customerList: []\n    };\n  },\n\n  created() {\n    this.getCustomerList();\n  },\n\n  methods: {\n    showDialog() {\n      this.visibleFlag = true;\n    },\n\n    getType(val) {\n      this.customerQuery.value = val;\n    },\n\n    async getCustomerList() {\n      const {\n        data: res\n      } = await this.$axios.get(`${api.localUrl}/customerlist`, {\n        params: this.customerQuery\n      });\n      console.log(res);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqCA;AACA;AACA;EACAA;IACAC;EADA,CADA;;EAIAC;IACA;MACAC,kBADA;MAEAC,eAFA;MAGAC,YAHA;MAIAC,+BAJA;MAKAC,kBALA;MAMAC,UACA;QACAC,eADA;QAEAC;MAFA,CADA,EAKA;QACAD,qBADA;QAEAC;MAFA,CALA,CANA;MAgBAC;QACAC,SADA;QAEAC,UAFA;QAGAC,YAHA;QAIAL;MAJA,CAhBA;MAsBAM;IAtBA;EAwBA,CA7BA;;EA8BAC;IACA;EACA,CAhCA;;EAiCAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOA;MACA;QAAAjB;MAAA;QACAkB;MADA;MAGAC;IACA;;EAZA;AAjCA","names":["components","MinorDialog","data","visibleFlag","title","width","cradWidthHeight","showCardOne","options","value","label","customerQuery","query","pagenum","pagesize","customerList","created","methods","showDialog","getType","params","console"],"sourceRoot":"src/views/customer","sources":["CustomerList.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card>\n      <div class=\"order-top\">\n        <el-select v-model=\"customerQuery.value\" placeholder=\"请选择\" size=\"small\" @change=\"getType\">\n          <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n          </el-option>\n        </el-select>\n        <el-input placeholder=\"请输入搜索关键词\" v-model=\"customerQuery.query\" size=\"small\" clearable @clear=\"getCustomerList\">\n        </el-input>\n        <el-button type=\"primary\" size=\"small\" icon=\"el-icon-search\" @click=\"getCustomerList\">搜索</el-button>\n      </div>\n      <!-- table区域 -->\n      <el-table :data=\"customerList\">\n        <el-table-column prop=\"customerName\" label=\"客户名称\"></el-table-column>\n        <el-table-column prop=\"becomeTime\" label=\"成为客户时间\"></el-table-column>\n        <el-table-column prop=\"consumeTime\" label=\"最近消费时间\"></el-table-column>\n        <el-table-column prop=\"customerBalance\" label=\"客户余额\"></el-table-column>\n        <el-table-column prop=\"consumeNum\" label=\"消费次数\"></el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-link type=\"primary\" :underline=\"false\" @click=\"showOrderDialog(scope.row)\">详情</el-link>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination background @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"orderQuery.pagenum\" :page-sizes=\"[10, 20, 30, 40, 60]\" :page-size=\"orderQuery.pagesize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n      </el-pagination>\n    </el-card>\n    <!-- <MinorDialog :visibleFlag.sync=\"visibleFlag\" :title=\"title\" :width=\"width\" \n    :cradWidthHeight=\"cradWidthHeight\" :showCardOne=\"showCardOne\">\n        <h2 slot=\"one\">dadadadadad</h2>\n    </MinorDialog> -->\n  </div>\n</template>\n\n<script>\nimport MinorDialog from '../../components/M-Dialog.vue'\nimport api from '../../../api/index'\nexport default {\n  components: {\n    MinorDialog: MinorDialog,\n  },\n  data() {\n    return {\n      visibleFlag: false,\n      title: 'wenwen',\n      width: '70%',\n      cradWidthHeight: 'width: 100%;',\n      showCardOne: false,\n      options: [\n        {\n          value: 'mobile',\n          label: '手机号',\n        },\n        {\n          value: 'customerName',\n          label: '客户名',\n        },\n      ],\n      customerQuery: {\n        query: '',\n        pagenum: 1,\n        pagesize: 10,\n        value: 'mobile',\n      },\n      customerList: [],\n    }\n  },\n  created() {\n    this.getCustomerList()\n  },\n  methods: {\n    showDialog() {\n      this.visibleFlag = true\n    },\n    getType(val) {\n      this.customerQuery.value = val\n    },\n    async getCustomerList() {\n        const {data: res} = await this.$axios.get(`${api.localUrl}/customerlist`, {\n            params: this.customerQuery\n        })\n        console.log(res)\n    },\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.order-top {\n  display: flex;\n  justify-content: flex-start;\n  margin-bottom: 18px;\n  .el-select {\n    width: 120px;\n    margin-right: 8px;\n  }\n  .el-input {\n    width: 284px;\n    margin-right: 4px;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}