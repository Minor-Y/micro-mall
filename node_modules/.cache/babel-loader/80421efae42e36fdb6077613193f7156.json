{"ast":null,"code":"import axios from 'axios';\nimport api from '../../api/index';\nexport async function saveProcesslog(operate_module, operate_content) {\n  // 获取ip地址\n  const ress = await axios.get(`${api.localUrl}/cityJson`);\n  console.log('ress', ress);\n  const ip = ress.data.cip;\n  const addr = ress.data.cname;\n  console.log(ip, addr); // 获取当前时间\n\n  const nowTime = Date.now().toString().slice(0, 10);\n  const userName = window.sessionStorage.getItem('username');\n  const processLogs = {\n    operate_account: userName,\n    operate_module: operate_module,\n    operate_time: nowTime,\n    operate_ip: ip,\n    operate_content: operate_content,\n    operate_addr: addr\n  };\n  console.log('processLogs', processLogs);\n  const res = await axios.post(`${api.localUrl}/addProcessLog`, {\n    processLogs\n  });\n  console.log(res);\n}","map":{"version":3,"names":["axios","api","saveProcesslog","operate_module","operate_content","ress","get","localUrl","console","log","ip","data","cip","addr","cname","nowTime","Date","now","toString","slice","userName","window","sessionStorage","getItem","processLogs","operate_account","operate_time","operate_ip","operate_addr","res","post"],"sources":["/Users/minor/Documents/micro_mall/src/plugins/processlog.js"],"sourcesContent":["import axios from 'axios'\nimport api from '../../api/index'\n\nexport async function saveProcesslog(operate_module, operate_content) {\n    // 获取ip地址\n    const ress = await axios.get(`${api.localUrl}/cityJson`)\n    console.log('ress', ress)\n    const ip = ress.data.cip\n    const addr = ress.data.cname\n    console.log(ip, addr)\n    // 获取当前时间\n    const nowTime = Date.now().toString().slice(0, 10)\n    const userName = window.sessionStorage.getItem('username')\n    const processLogs = {\n        operate_account: userName,\n        operate_module: operate_module,\n        operate_time: nowTime,\n        operate_ip: ip,\n        operate_content: operate_content,\n        operate_addr: addr\n    }\n    console.log('processLogs', processLogs)\n    const res = await axios.post(`${api.localUrl}/addProcessLog`, {\n        processLogs\n    })\n    console.log(res)\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AAEA,OAAO,eAAeC,cAAf,CAA8BC,cAA9B,EAA8CC,eAA9C,EAA+D;EAClE;EACA,MAAMC,IAAI,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,GAAEL,GAAG,CAACM,QAAS,WAA1B,CAAnB;EACAC,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBJ,IAApB;EACA,MAAMK,EAAE,GAAGL,IAAI,CAACM,IAAL,CAAUC,GAArB;EACA,MAAMC,IAAI,GAAGR,IAAI,CAACM,IAAL,CAAUG,KAAvB;EACAN,OAAO,CAACC,GAAR,CAAYC,EAAZ,EAAgBG,IAAhB,EANkE,CAOlE;;EACA,MAAME,OAAO,GAAGC,IAAI,CAACC,GAAL,GAAWC,QAAX,GAAsBC,KAAtB,CAA4B,CAA5B,EAA+B,EAA/B,CAAhB;EACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,CAAjB;EACA,MAAMC,WAAW,GAAG;IAChBC,eAAe,EAAEL,QADD;IAEhBjB,cAAc,EAAEA,cAFA;IAGhBuB,YAAY,EAAEX,OAHE;IAIhBY,UAAU,EAAEjB,EAJI;IAKhBN,eAAe,EAAEA,eALD;IAMhBwB,YAAY,EAAEf;EANE,CAApB;EAQAL,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2Be,WAA3B;EACA,MAAMK,GAAG,GAAG,MAAM7B,KAAK,CAAC8B,IAAN,CAAY,GAAE7B,GAAG,CAACM,QAAS,gBAA3B,EAA4C;IAC1DiB;EAD0D,CAA5C,CAAlB;EAGAhB,OAAO,CAACC,GAAR,CAAYoB,GAAZ;AACH"},"metadata":{},"sourceType":"module"}